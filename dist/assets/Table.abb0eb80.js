import{r as d,k as e,J as l,j as se,B as j,bp as re,P as I,bc as A,bq as z,br as ne,E as ie,bs as ce,bt as x}from"./index.dff4e684.js";import{S as oe}from"./index.7e1ad8b2.js";import{a as M,I as g,s as E,n as me,U as V,h as W,i as H,j as C,A as B,l as ue,z as de}from"./App.37a2596a.js";import{S as T}from"./react-select.esm.82b43af0.js";import{u as pe,C as w}from"./index.esm.650ebc72.js";import{F as he}from"./Form.f1a34b24.js";import{F as ve}from"./FormText.994b2fc1.js";import{L as h}from"./Label.138433f0.js";import{M as be}from"./more-vertical.b394bd54.js";import{F as J}from"./file-text.4fa0d8cb.js";import{A as fe}from"./archive.6e4b402b.js";import{T as ge}from"./trash-2.8a850016.js";import{E as O}from"./edit-2.c72a624a.js";import{D as Ne}from"./database.58087051.js";import{S as xe}from"./slack.a96bed02.js";import{R as Ce}from"./react-paginate.6159ddb0.js";import{Q as ye}from"./index.es.0d4ebcce.js";import{R as $,C as U}from"./Col.96fcbc17.js";import{C as q}from"./Card.514988a9.js";import{C as Se}from"./CardBody.8c73518d.js";import{C as Pe}from"./CardHeader.5294cf1e.js";import{C as ke}from"./CardTitle.aebc4d98.js";/* empty css                                  */import{C as we}from"./chevron-down.9c58d19a.js";import{S as Fe}from"./share.abe13aac.js";import{P as Ue}from"./printer.75c9e336.js";import{G as De}from"./grid.789cc8e8.js";import{F as Ee}from"./file.b7fedcd7.js";import{C as Te}from"./copy.3e8853d4.js";const L={email:"",contact:"",company:"",fullName:"",username:"",country:null},Ae=[{label:"Australia",value:"Australia"},{label:"Bangladesh",value:"Bangladesh"},{label:"Belarus",value:"Belarus"},{label:"Brazil",value:"Brazil"},{label:"Canada",value:"Canada"},{label:"China",value:"China"},{label:"France",value:"France"},{label:"Germany",value:"Germany"},{label:"India",value:"India"},{label:"Indonesia",value:"Indonesia"},{label:"Israel",value:"Israel"},{label:"Italy",value:"Italy"},{label:"Japan",value:"Japan"},{label:"Korea",value:"Korea"},{label:"Mexico",value:"Mexico"},{label:"Philippines",value:"Philippines"},{label:"Russia",value:"Russia"},{label:"South",value:"South"},{label:"Thailand",value:"Thailand"},{label:"Turkey",value:"Turkey"},{label:"Ukraine",value:"Ukraine"},{label:"United Arab Emirates",value:"United Arab Emirates"},{label:"United Kingdom",value:"United Kingdom"},{label:"United States",value:"United States"}],je=a=>Object.values(a).every(s=>typeof s=="object"?s!==null:s.length>0),Re=({open:a,toggleSidebar:s})=>{const[o,F]=d.exports.useState(null),[u,S]=d.exports.useState("basic"),[m,P]=d.exports.useState("subscriber"),c=M(),{control:i,setValue:n,setError:v,handleSubmit:y,formState:{errors:b}}=pe({defaultValues:L});return e(oe,{size:"lg",open:a,title:"New User",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:s,onClosed:()=>{for(const t in L)n(t,"");P("subscriber"),S("basic")},children:l(he,{onSubmit:y(t=>{if(F(t),je(t))s(),c(re({role:m,avatar:"",status:"active",email:t.email,currentPlan:u,billing:"auto debit",company:t.company,contact:t.contact,fullName:t.fullName,username:t.username,country:t.country.value}));else for(const k in t)t[k]===null&&v("country",{type:"manual"}),t[k]!==null&&t[k].length===0&&v(k,{type:"manual"})}),children:[l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"fullName",children:["Full Name ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"fullName",control:i,render:({field:t})=>e(g,{id:"fullName",placeholder:"John Doe",invalid:b.fullName&&!0,...t})})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"username",children:["Username ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"username",control:i,render:({field:t})=>e(g,{id:"username",placeholder:"johnDoe99",invalid:b.username&&!0,...t})})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"userEmail",children:["Email ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"email",control:i,render:({field:t})=>e(g,{type:"email",id:"userEmail",placeholder:"john.doe@example.com",invalid:b.email&&!0,...t})}),e(ve,{color:"muted",children:"You can use letters, numbers & periods"})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"contact",children:["Contact ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"contact",control:i,render:({field:t})=>e(g,{id:"contact",placeholder:"(397) 294-5153",invalid:b.contact&&!0,...t})})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"company",children:["Company ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"company",control:i,render:({field:t})=>e(g,{id:"company",placeholder:"Company Pvt Ltd",invalid:b.company&&!0,...t})})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"country",children:["Country ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"country",control:i,render:({field:t})=>e(T,{isClearable:!1,classNamePrefix:"select",options:Ae,theme:E,className:se("react-select",{"is-invalid":o!==null&&o.country===null}),...t})})]}),l("div",{className:"mb-1",children:[e(h,{className:"form-label",for:"user-role",children:"User Role"}),l(g,{type:"select",id:"user-role",name:"user-role",value:m,onChange:t=>P(t.target.value),children:[e("option",{value:"subscriber",children:"Subscriber"}),e("option",{value:"editor",children:"Editor"}),e("option",{value:"maintainer",children:"Maintainer"}),e("option",{value:"author",children:"Author"}),e("option",{value:"admin",children:"Admin"})]})]}),l("div",{className:"mb-1",value:u,onChange:t=>S(t.target.value),children:[e(h,{className:"form-label",for:"select-plan",children:"Select Plan"}),l(g,{type:"select",id:"select-plan",name:"select-plan",children:[e("option",{value:"basic",children:"Basic"}),e("option",{value:"enterprise",children:"Enterprise"}),e("option",{value:"company",children:"Company"}),e("option",{value:"team",children:"Team"})]})]}),e(j,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),e(j,{type:"reset",color:"secondary",outline:!0,onClick:s,children:"Cancel"})]})})},Ie=a=>a.avatar.length?e(B,{className:"me-1",img:a.avatar,width:"32",height:"32"}):e(B,{initials:!0,className:"me-1",color:a.avatarColor||"light-primary",content:a.fullName||"John Doe"}),ze=a=>{const s={subscriber:{class:"text-primary",icon:ue},maintainer:{class:"text-success",icon:Ne},editor:{class:"text-info",icon:O},author:{class:"text-warning",icon:de},admin:{class:"text-danger",icon:xe}},o=s[a.role]?s[a.role].icon:O;return l("span",{className:"text-truncate text-capitalize align-middle",children:[e(o,{size:18,className:`${s[a.role]?s[a.role].class:""} me-50`}),a.role]})},Be={pending:"light-warning",active:"light-success",inactive:"light-secondary"},Oe=[{name:"User",sortable:!0,minWidth:"300px",sortField:"fullName",selector:a=>a.fullName,cell:a=>l("div",{className:"d-flex justify-content-left align-items-center",children:[Ie(a),l("div",{className:"d-flex flex-column",children:[e(I,{to:`/apps/user/view/${a.id}`,className:"user_name text-truncate text-body",onClick:()=>A.dispatch(z(a.id)),children:e("span",{className:"fw-bolder",children:a.fullName})}),e("small",{className:"text-truncate text-muted mb-0",children:a.email})]})]})},{name:"Role",sortable:!0,minWidth:"172px",sortField:"role",selector:a=>a.role,cell:a=>ze(a)},{name:"Plan",minWidth:"138px",sortable:!0,sortField:"currentPlan",selector:a=>a.currentPlan,cell:a=>e("span",{className:"text-capitalize",children:a.currentPlan})},{name:"Billing",minWidth:"230px",sortable:!0,sortField:"billing",selector:a=>a.billing,cell:a=>e("span",{className:"text-capitalize",children:a.billing})},{name:"Status",minWidth:"138px",sortable:!0,sortField:"status",selector:a=>a.status,cell:a=>e(me,{className:"text-capitalize",color:Be[a.status],pill:!0,children:a.status})},{name:"Actions",minWidth:"100px",cell:a=>e("div",{className:"column-action",children:l(V,{children:[e(W,{tag:"div",className:"btn btn-sm",children:e(be,{size:14,className:"cursor-pointer"})}),l(H,{children:[l(C,{tag:I,className:"w-100",to:`/apps/user/view/${a.id}`,onClick:()=>A.dispatch(z(a.id)),children:[e(J,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Details"})]}),l(C,{tag:"a",href:"/",className:"w-100",onClick:s=>s.preventDefault(),children:[e(fe,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Edit"})]}),l(C,{tag:"a",href:"/",className:"w-100",onClick:s=>{s.preventDefault(),A.dispatch(ne(a.id))},children:[e(ge,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Delete"})]})]})]})})}],qe=({store:a,toggleSidebar:s,handlePerPage:o,rowsPerPage:F,handleFilter:u,searchTerm:S})=>{function m(c){let i;const n=",",v=`
`,y=Object.keys(a.data[0]);return i="",i+=y.join(n),i+=v,c.forEach(b=>{let p=0;y.forEach(D=>{p>0&&(i+=n),i+=b[D],p++}),i+=v}),i}function P(c){const i=document.createElement("a");let n=m(c);if(n===null)return;const v="export.csv";n.match(/^data:text\/csv/i)||(n=`data:text/csv;charset=utf-8,${n}`),i.setAttribute("href",encodeURI(n)),i.setAttribute("download",v),i.click()}return e("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:l($,{children:[e(U,{xl:"6",className:"d-flex align-items-center p-0",children:l("div",{className:"d-flex align-items-center w-100",children:[e("label",{htmlFor:"rows-per-page",children:"Show"}),l(g,{className:"mx-50",type:"select",id:"rows-per-page",value:F,onChange:o,style:{width:"5rem"},children:[e("option",{value:"10",children:"10"}),e("option",{value:"25",children:"25"}),e("option",{value:"50",children:"50"})]}),e("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),l(U,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[l("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[e("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),e(g,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:S,onChange:c=>u(c.target.value)})]}),l("div",{className:"d-flex align-items-center table-header-actions",children:[l(V,{className:"me-1",children:[l(W,{color:"secondary",caret:!0,outline:!0,children:[e(Fe,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Export"})]}),l(H,{children:[l(C,{className:"w-100",children:[e(Ue,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Print"})]}),l(C,{className:"w-100",onClick:()=>P(a.data),children:[e(J,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"CSV"})]}),l(C,{className:"w-100",children:[e(De,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Excel"})]}),l(C,{className:"w-100",children:[e(Ee,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"PDF"})]}),l(C,{className:"w-100",children:[e(Te,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Copy"})]})]})]}),e(j,{className:"add-new-user",color:"primary",onClick:s,children:"Add New User"})]})]})]})})},va=()=>{const a=M(),s=ie(r=>r.users),[o,F]=d.exports.useState("desc"),[u,S]=d.exports.useState(""),[m,P]=d.exports.useState(1),[c,i]=d.exports.useState("id"),[n,v]=d.exports.useState(10),[y,b]=d.exports.useState(!1),[p,D]=d.exports.useState({value:"",label:"Select Role"}),[t,k]=d.exports.useState({value:"",label:"Select Plan"}),[f,G]=d.exports.useState({value:"",label:"Select Status",number:0}),R=()=>b(!y);d.exports.useEffect(()=>{a(ce()),a(x({sort:o,sortColumn:c,q:u,page:m,perPage:n,role:p.value,status:f.value,currentPlan:t.value}))},[a,s.data.length,o,c,m]);const K=[{value:"",label:"Select Role"},{value:"admin",label:"Admin"},{value:"author",label:"Author"},{value:"editor",label:"Editor"},{value:"maintainer",label:"Maintainer"},{value:"subscriber",label:"Subscriber"}],Q=[{value:"",label:"Select Plan"},{value:"basic",label:"Basic"},{value:"company",label:"Company"},{value:"enterprise",label:"Enterprise"},{value:"team",label:"Team"}],Y=[{value:"",label:"Select Status",number:0},{value:"pending",label:"Pending",number:1},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3}],_=r=>{a(x({sort:o,sortColumn:c,q:u,perPage:n,page:r.selected+1,role:p.value,status:f.value,currentPlan:t.value})),P(r.selected+1)},X=r=>{const N=parseInt(r.currentTarget.value);a(x({sort:o,sortColumn:c,q:u,perPage:N,page:m,role:p.value,currentPlan:t.value,status:f.value})),v(N)},Z=r=>{S(r),a(x({sort:o,q:r,sortColumn:c,page:m,perPage:n,role:p.value,status:f.value,currentPlan:t.value}))},ee=()=>{const r=Number(Math.ceil(s.total/n));return e(Ce,{previousLabel:"",nextLabel:"",pageCount:r||1,activeClassName:"active",forcePage:m!==0?m-1:0,onPageChange:N=>_(N),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},ae=()=>{const r={role:p.value,currentPlan:t.value,status:f.value,q:u},N=Object.keys(r).some(function(te){return r[te].length>0});return s.data.length>0?s.data:s.data.length===0&&N?[]:s.allData.slice(0,n)},le=(r,N)=>{F(N),i(r.sortField),a(x({sort:o,sortColumn:c,q:u,page:m,perPage:n,role:p.value,status:f.value,currentPlan:t.value}))};return l(d.exports.Fragment,{children:[l(q,{children:[e(Pe,{children:e(ke,{tag:"h4",children:"Filters"})}),e(Se,{children:l($,{children:[l(U,{md:"4",children:[e(h,{for:"role-select",children:"Role"}),e(T,{isClearable:!1,value:p,options:K,className:"react-select",classNamePrefix:"select",theme:E,onChange:r=>{D(r),a(x({sort:o,sortColumn:c,q:u,role:r.value,page:m,perPage:n,status:f.value,currentPlan:t.value}))}})]}),l(U,{className:"my-md-0 my-1",md:"4",children:[e(h,{for:"plan-select",children:"Plan"}),e(T,{theme:E,isClearable:!1,className:"react-select",classNamePrefix:"select",options:Q,value:t,onChange:r=>{k(r),a(x({sort:o,sortColumn:c,q:u,page:m,perPage:n,role:p.value,currentPlan:r.value,status:f.value}))}})]}),l(U,{md:"4",children:[e(h,{for:"status-select",children:"Status"}),e(T,{theme:E,isClearable:!1,className:"react-select",classNamePrefix:"select",options:Y,value:f,onChange:r=>{G(r),a(x({sort:o,sortColumn:c,q:u,page:m,status:r.value,perPage:n,role:p.value,currentPlan:t.value}))}})]})]})})]}),e(q,{className:"overflow-hidden",children:e("div",{className:"react-dataTable",children:e(ye,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:Oe,onSort:le,sortIcon:e(we,{}),className:"react-dataTable",paginationComponent:ee,data:ae(),subHeaderComponent:e(qe,{store:s,searchTerm:u,rowsPerPage:n,handleFilter:Z,handlePerPage:X,toggleSidebar:R})})})}),e(Re,{open:y,toggleSidebar:R})]})};export{va as U};
