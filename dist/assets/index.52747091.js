import{k as e,P as f,J as i,r as o,bc as E,bd as R,E as q,be as u,B as W}from"./index.dff4e684.js";import{E as S,A as b,n as A,U as M,h as B,i as U,j as g,a as V,I as C}from"./App.37a2596a.js";import{U as x}from"./UncontrolledTooltip.57b433b3.js";import{T as H}from"./trending-up.7b2632da.js";import{S as D}from"./send.7b0cd638.js";import{E as J}from"./eye.4a9e31d4.js";import{M as O}from"./more-vertical.b394bd54.js";import{D as Q}from"./download.3f78a711.js";import{T as G}from"./trash.ae88d3ea.js";import{C as K}from"./copy.3e8853d4.js";import{C as X}from"./check-circle.87e76ea0.js";import{S as Y,A as Z,P as _}from"./save.485f8fa3.js";import{I as ee}from"./info.bd539442.js";import{R as ae}from"./react-paginate.6159ddb0.js";import{Q as te}from"./index.es.0d4ebcce.js";import{R as ne,C as P}from"./Col.96fcbc17.js";import{C as ie}from"./Card.514988a9.js";/* empty css                     *//* empty css                                  */import{C as se}from"./chevron-down.9c58d19a.js";import"./TooltipPopoverWrapper.2dcdb0e6.js";import"./Fade.f1e5f77c.js";import"./emotion-memoize.esm.06f0e458.js";const v={Sent:{color:"light-secondary",icon:D},Paid:{color:"light-success",icon:X},Draft:{color:"light-primary",icon:Y},Downloaded:{color:"light-info",icon:Z},"Past Due":{color:"light-danger",icon:ee},"Partial Payment":{color:"light-warning",icon:_}},le=a=>{const n=Math.floor(Math.random()*6),s=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"],h=s[n];return a.avatar.length?e(b,{className:"me-50",img:a.avatar,width:"32",height:"32"}):e(b,{color:h,className:"me-50",content:a.client?a.client.name:"John Doe",initials:!0})},re=[{name:"#",sortable:!0,sortField:"id",minWidth:"107px",cell:a=>e(f,{to:`/apps/invoice/preview/${a.id}`,children:`#${a.id}`})},{sortable:!0,minWidth:"102px",sortField:"invoiceStatus",name:e(H,{size:14}),cell:a=>{const n=v[a.invoiceStatus]?v[a.invoiceStatus].color:"primary",s=v[a.invoiceStatus]?v[a.invoiceStatus].icon:S;return i(o.exports.Fragment,{children:[e(b,{color:n,icon:e(s,{size:14}),id:`av-tooltip-${a.id}`}),i(x,{placement:"top",target:`av-tooltip-${a.id}`,children:[e("span",{className:"fw-bold",children:a.invoiceStatus}),e("br",{}),e("span",{className:"fw-bold",children:"Balance:"})," ",a.balance,e("br",{}),e("span",{className:"fw-bold",children:"Due Date:"})," ",a.dueDate]})]})}},{name:"Client",sortable:!0,minWidth:"350px",sortField:"client.name",cell:a=>{const n=a.client?a.client.name:"John Doe",s=a.client?a.client.companyEmail:"johnDoe@email.com";return i("div",{className:"d-flex justify-content-left align-items-center",children:[le(a),i("div",{className:"d-flex flex-column",children:[e("h6",{className:"user-name text-truncate mb-0",children:n}),e("small",{className:"text-truncate text-muted mb-0",children:s})]})]})}},{name:"Total",sortable:!0,minWidth:"150px",sortField:"total",cell:a=>i("span",{children:["$",a.total||0]})},{sortable:!0,minWidth:"200px",name:"Issued Date",sortField:"dueDate",cell:a=>a.dueDate},{sortable:!0,name:"Balance",minWidth:"164px",sortField:"balance",cell:a=>a.balance!==0?e("span",{children:a.balance}):e(A,{color:"light-success",pill:!0,children:"Paid"})},{name:"Action",minWidth:"110px",cell:a=>i("div",{className:"column-action d-flex align-items-center",children:[e(D,{className:"cursor-pointer",size:17,id:`send-tooltip-${a.id}`}),e(x,{placement:"top",target:`send-tooltip-${a.id}`,children:"Send Mail"}),e(f,{to:`/apps/invoice/preview/${a.id}`,id:`pw-tooltip-${a.id}`,children:e(J,{size:17,className:"mx-1"})}),e(x,{placement:"top",target:`pw-tooltip-${a.id}`,children:"Preview Invoice"}),i(M,{children:[e(B,{tag:"span",children:e(O,{size:17,className:"cursor-pointer"})}),i(U,{end:!0,children:[i(g,{tag:"a",href:"/",className:"w-100",onClick:n=>n.preventDefault(),children:[e(Q,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Download"})]}),i(g,{tag:f,to:`/apps/invoice/edit/${a.id}`,className:"w-100",children:[e(S,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Edit"})]}),i(g,{tag:"a",href:"/",className:"w-100",onClick:n=>{n.preventDefault(),E.dispatch(R(a.id))},children:[e(G,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Delete"})]}),i(g,{tag:"a",href:"/",className:"w-100",onClick:n=>n.preventDefault(),children:[e(K,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Duplicate"})]})]})]})]})}],oe=({handleFilter:a,value:n,handleStatusValue:s,statusValue:h,handlePerPage:c,rowsPerPage:N})=>e("div",{className:"invoice-list-table-header w-100 py-2",children:i(ne,{children:[i(P,{lg:"6",className:"d-flex align-items-center px-0 px-lg-1",children:[i("div",{className:"d-flex align-items-center me-2",children:[e("label",{htmlFor:"rows-per-page",children:"Show"}),i(C,{type:"select",id:"rows-per-page",value:N,onChange:c,className:"form-control ms-50 pe-3",children:[e("option",{value:"10",children:"10"}),e("option",{value:"25",children:"25"}),e("option",{value:"50",children:"50"})]})]}),e(W,{tag:f,to:"/apps/invoice/add",color:"primary",children:"Add Record"})]}),i(P,{lg:"6",className:"actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pe-lg-1 p-0",children:[i("div",{className:"d-flex align-items-center",children:[e("label",{htmlFor:"search-invoice",children:"Search"}),e(C,{id:"search-invoice",className:"ms-50 me-2 w-100",type:"text",value:n,onChange:d=>a(d.target.value),placeholder:"Search Invoice"})]}),i(C,{className:"w-auto ",type:"select",value:h,onChange:s,children:[e("option",{value:"",children:"Select Status"}),e("option",{value:"downloaded",children:"Downloaded"}),e("option",{value:"draft",children:"Draft"}),e("option",{value:"paid",children:"Paid"}),e("option",{value:"partial payment",children:"Partial Payment"}),e("option",{value:"past due",children:"Past Due"}),e("option",{value:"sent",children:"Sent"})]})]})]})}),Le=()=>{const a=V(),n=q(t=>t.invoice),[s,h]=o.exports.useState(""),[c,N]=o.exports.useState("desc"),[d,y]=o.exports.useState("id"),[l,k]=o.exports.useState(1),[m,w]=o.exports.useState(""),[r,F]=o.exports.useState(10);o.exports.useEffect(()=>{a(u({sort:c,q:s,sortColumn:d,page:l,perPage:r,status:m}))},[a,n.data.length]);const I=t=>{h(t),a(u({sort:c,q:t,sortColumn:d,page:l,perPage:r,status:m}))},T=t=>{a(u({sort:c,q:s,sortColumn:d,page:l,status:m,perPage:parseInt(t.target.value)})),F(parseInt(t.target.value))},$=t=>{w(t.target.value),a(u({sort:c,q:s,sortColumn:d,page:l,perPage:r,status:t.target.value}))},j=t=>{a(u({sort:c,q:s,sortColumn:d,status:m,perPage:r,page:t.selected+1})),k(t.selected+1)},z=()=>{const t=Number((n.total/r).toFixed(0));return e(ae,{nextLabel:"",breakLabel:"...",previousLabel:"",pageCount:t||1,activeClassName:"active",breakClassName:"page-item",pageClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",pageLinkClassName:"page-link",nextClassName:"page-item next",previousLinkClassName:"page-link",previousClassName:"page-item prev",onPageChange:p=>j(p),forcePage:l!==0?l-1:0,containerClassName:"pagination react-paginate justify-content-end p-1"})};return e("div",{className:"invoice-list-wrapper",children:e(ie,{children:e("div",{className:"invoice-list-dataTable react-dataTable",children:e(te,{noHeader:!0,pagination:!0,sortServer:!0,paginationServer:!0,subHeader:!0,columns:re,responsive:!0,onSort:(t,p)=>{N(p),y(t.sortField),a(u({q:s,page:l,sort:p,status:m,perPage:r,sortColumn:t.sortField}))},data:(()=>{const t={q:s,status:m},p=Object.keys(t).some(function(L){return t[L].length>0});return n.data.length>0?n.data:n.data.length===0&&p?[]:n.allData.slice(0,r)})(),sortIcon:e(se,{}),className:"react-dataTable",defaultSortField:"invoiceId",paginationDefaultPage:l,paginationComponent:z,subHeaderComponent:e(oe,{value:s,statusValue:m,rowsPerPage:r,handleFilter:I,handlePerPage:T,handleStatusValue:$})})})})})};export{Le as default};
